!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-motion"),require("styled-components"),require("react-measure")):"function"==typeof define&&define.amd?define(["react","react-motion","styled-components","react-measure"],t):"object"==typeof exports?exports.ReactCubeImageReveal=t(require("react"),require("react-motion"),require("styled-components"),require("react-measure")):e.ReactCubeImageReveal=t(e.React,e.ReactMotion,e.ReactStyled,e.ReactMeasure)}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=c(["\n"],["\n"]),s=n(5),d=i(s),y=n(6),b=n(35),m=(i(b),n(7)),g=i(m),h=n(8),v=i(h),x=n(9),P=i(x),O=n(11),j=r(O),T=g.default.div(l),_=function(e){function t(){return u(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),f(t,[{key:"getImageCube",value:function(e){var t=e.image,n=e.width,r=e.cubeWidth,i=e.cubeHeight,o=e.position;return d.default.createElement(P.default,{imageWidth:n,cubeWidth:r,cubeHeight:i,image:t,position:o})}},{key:"buildMatrix",value:function(e){for(var t=e.image,n=e.width,r=e.height,i=e.piecesPerWidth,o=n/i,u=Math.round(r/o),a=r/u,p=[],c=0;c<u;c++){for(var f=[],l=0;l<i;l++){var s={x:c,y:l};f.push(this.getImageCube({image:t,width:n,cubeWidth:o,cubeHeight:a,position:s}))}p.push(f)}return p}},{key:"render",value:function(){var e=this.props,t=e.springConfig,n=e.image,r=e.width,i=e.height,u=e.piecesPerWidth,a=e.applyAnimationInitialization,p=e.applyAnimation,c=(o(e,["springConfig","image","width","height","piecesPerWidth","applyAnimationInitialization","applyAnimation"]),this.buildMatrix({image:n,width:r,height:i,piecesPerWidth:u}));return d.default.createElement(T,null,d.default.createElement(v.default,{applyAnimationInitialization:a,applyAnimation:p,piecesPerWidth:u,springConfig:t,imageCubeMatrix:c}))}}]),t}(d.default.Component);_.propTypes={image:d.default.PropTypes.string.isRequired,width:d.default.PropTypes.number.isRequired,height:d.default.PropTypes.number.isRequired,piecesPerWidth:d.default.PropTypes.number.isRequired,springConfig:d.default.PropTypes.shape({stiffness:d.default.PropTypes.number,precision:d.default.PropTypes.number,damping:d.default.PropTypes.number}),animationType:d.default.PropTypes.oneOf(["fadeIn"]),applyAnimationInitialization:d.default.PropTypes.func,applyAnimation:d.default.PropTypes.func},_.defaultProps={springConfig:y.presets.noWobble,applyAnimationInitialization:j.applyAnimationInitialization,applyAnimation:j.applyAnimation},t.default=_},function(e,t,n){var r=n(22),i=r.Symbol;e.exports=i},function(e,t,n){function r(e){return null==e?void 0===e?p:a:c&&c in Object(e)?o(e):u(e)}var i=n(1),o=n(17),u=n(21),a="[object Null]",p="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=p(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]),l=p(["\n  display: flex;\n  flex-direction: row;\n"],["\n  display: flex;\n  flex-direction: row;\n"]),s=p(["\n  opacity: ",";\n"],["\n  opacity: ",";\n"]),d=n(5),y=r(d),b=n(6),m=n(7),g=r(m),h=g.default.div(f),v=g.default.div(l),x=g.default.div(s,function(e){return e.opacity}),P=function(e){function t(){return o(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"renderMatrix",value:function(e){var t=e.imageCubeMatrix,n=e.styles,r=e.piecesPerWidth;return t.map(function(e,t){return y.default.createElement(v,{key:t},e.map(function(e,i){return y.default.createElement(x,{opacity:n[t*r+i].opacity,key:i},e)}))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.springConfig,r=t.imageCubeMatrix,o=t.piecesPerWidth,u=t.applyAnimationInitialization,a=t.applyAnimation,p=i(t,["springConfig","imageCubeMatrix","piecesPerWidth","applyAnimationInitialization","applyAnimation"]);return y.default.createElement(b.StaggeredMotion,{defaultStyles:u({imageCubeMatrix:r}),styles:function(e){return a({prevStyles:e,imageCubeMatrix:r,springConfig:n})}},function(t){return y.default.createElement(h,p,e.renderMatrix({imageCubeMatrix:r,styles:t,piecesPerWidth:o}))})}}]),t}(y.default.Component);P.propTypes={springConfig:y.default.PropTypes.shape({stiffness:y.default.PropTypes.number,precision:y.default.PropTypes.number,damping:y.default.PropTypes.number}).isRequired,piecesPerWidth:y.default.PropTypes.number.isRequired,imageCubeMatrix:y.default.PropTypes.arrayOf(y.default.PropTypes.arrayOf(y.default.PropTypes.element)).isRequired,applyAnimationInitialization:y.default.PropTypes.func.isRequired,applyAnimation:y.default.PropTypes.func.isRequired},t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=o(["\n  background-image: url(",");\n  background-position: -","px -","px;\n  background-size: ","%;\n  width: ","px;\n  height: ","px;\n"],["\n  background-image: url(",");\n  background-position: -","px -","px;\n  background-size: ","%;\n  width: ","px;\n  height: ","px;\n"]),p=n(5),c=r(p),f=n(7),l=r(f),s=function(e){var t=e.position,n=e.cubeWidth;return t.y*n},d=function(e){var t=e.position,n=e.cubeHeight;return t.x*n},y=function(e){var t=e.imageWidth,n=e.cubeWidth;return t/n*100},b=l.default.div(a,function(e){return e.image},s,d,y,function(e){return e.cubeWidth},function(e){return e.cubeHeight}),m=function(e){var t=e.image,n=e.imageWidth,r=e.cubeWidth,o=e.cubeHeight,a=e.position,p=i(e,["image","imageWidth","cubeWidth","cubeHeight","position"]);return c.default.createElement(b,u({image:t,position:a,imageWidth:n,cubeWidth:r,cubeHeight:o},p))};m.propTypes={image:c.default.PropTypes.string.isRequired,imageWidth:c.default.PropTypes.number.isRequired,cubeWidth:c.default.PropTypes.number.isRequired,cubeHeight:c.default.PropTypes.number.isRequired,position:c.default.PropTypes.shape({x:c.default.PropTypes.number,y:c.default.PropTypes.number}).isRequired},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.constructMatrixFromFlattenArray=void 0;var i=n(23),o=r(i);t.constructMatrixFromFlattenArray=function(e){var t=e.arr,n=e.noOfColumns;return(0,o.default)(t,n)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyAnimation=t.applyAnimationInitialization=void 0;var i=n(25),o=r(i),u=n(6);n(10),t.applyAnimationInitialization=function(e){var t=e.imageCubeMatrix;return(0,o.default)(t).map(function(e){return{opacity:0}})},t.applyAnimation=function(e){var t=e.prevStyles,n=(e.imageCubeMatrix,e.springConfig),r=function(e){return(0,u.spring)(e,n)};return t.map(function(e,n){return 0===n?{opacity:r(1)}:{opacity:r(t[n-1].opacity>.3?1:0)}})}},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e,t,n,u,a){var p=-1,c=e.length;for(n||(n=o),a||(a=[]);++p<c;){var f=e[p];t>0&&n(f)?t>1?r(f,t-1,n,u,a):i(a,f):u||(a[a.length]=f)}return a}var i=n(12),o=n(18);e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)==u}var i=n(2),o=n(4),u="[object Arguments]";e.exports=r},function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=n},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=u.call(e,p),n=e[p];try{e[p]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[p]=n:delete e[p]),i}var i=n(1),o=Object.prototype,u=o.hasOwnProperty,a=o.toString,p=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e){return u(e)||o(e)||!!(a&&e&&e[a])}var i=n(1),o=n(26),u=n(27),a=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t){function n(e,t){return t=null==t?r:t,!!t&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t,n){if(!a(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&u(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(24),o=n(28),u=n(19),a=n(3);e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){var r=n(16),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){function r(e,t,n){t=(n?o(e,t,n):void 0===t)?1:p(u(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var c=0,f=0,l=Array(a(r/t));c<r;)l[f++]=i(e,c,c+=t);return l}var i=n(15),o=n(20),u=n(33),a=Math.ceil,p=Math.max;e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e){var t=null==e?0:e.length;return t?i(e,1):[]}var i=n(13);e.exports=r},function(e,t,n){var r=n(14),i=n(4),o=Object.prototype,u=o.hasOwnProperty,a=o.propertyIsEnumerable,p=r(function(){return arguments}())?r:function(e){return i(e)&&u.call(e,"callee")&&!a.call(e,"callee")};e.exports=p},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(29),o=n(30);e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==a||t==p||t==u||t==c}var i=n(2),o=n(3),u="[object AsyncFunction]",a="[object Function]",p="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==u}var i=n(2),o=n(4),u="[object Symbol]";e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=i(e),e===o||e===-o){var t=e<0?-1:1;return t*u}return e===e?e:0}var i=n(34),o=1/0,u=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(32);e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return u;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||f.test(e)?l(e.slice(2),n?2:8):p.test(e)?u:+e}var i=n(3),o=n(31),u=NaN,a=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt;e.exports=r},function(e,t){e.exports=r}])});
//# sourceMappingURL=react-cube-image-reveal.map